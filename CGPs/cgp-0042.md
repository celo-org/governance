---
cgp: 42
title: cREAL contract deploy
date-created: 2021-10-09
author: @luisgj (Bitso), @martinvol (cLabs)
status: DRAFT
discussions-to: [cBRL forum proposal](https://forum.celo.org/t/cbrl-stable-asset/1281)
governance-proposal-id: [if submitted]
date-executed: [if executed]
---

## Overview

In this governance proposal, we propose to execute the Celo Core Contracts Upgrade (not a) Release 6, which mainly proposes the activation of the `StableTokenBRL` and `ExchangeBRL` smart contracts.

TODO - Add link to release tag

### Status

Currently, only cUSD and cEUR are deployed on Mainnet.

## Proposed Changes

1. Deploy StableTokenBRL
- Destination: Registry.setAddress
- Data: StableTokenBRL, TODO
- Value: 0
2. Deploy ExchangeBRL
- Destination: Registry.setAddress
- Data: ExchangeBRL, TODO
- Value: 0


## Verification

### Initialization Parameters

1. `StableTokenBRL`:
- `_name`: "Celo Brazilian Real"
- `_symbol`: "cREAL"
- `_decimals`: 18
- `registryAddress`: 0x000000000000000000000000000000000000ce10
- `inflationRate`: 1000000000000000000000000 (should match what it's deployed for cUSD and cEUR)
- `inflationFactorUpdatePeriod`: 47304000
- `initialBalanceAddresses`: []
- `initialBalanceValues`: []
- `exchangeIdentifier`: "ExchangeBRL"
2. `ExchangeBRL`:
- `registryAddress`: 0x000000000000000000000000000000000000ce10
- `stableToken`: TODO
- `_spread`: 5000000000000000000000 (0.5%, same as cUSD and cEUR had at launch)
- `_reserveFraction`: 250000000000000000000 (0.025%, 2.5x what cUSD had at launch in absolute terms)
- `_updateFrequency`: 300 (should match cUSD and cEUR)
- `_minimumReports`: 5 (should match cUSD and cEUR)

The release was created with [this data](packages/protocol/releaseData/initializationData/release6.json).

### Verification tooling

In order to verify the proposal, the address of `stableToken` in the `ExchangeBRL` shal be modified manually in the file `release6.json`. The reason is documented on this [ticket](https://github.com/celo-org/celo-monorepo/issues/7171) and the prescribed workaround is implemented in this [PR](https://github.com/celo-org/celo-monorepo/pull/7267) as a post `make-release` and pre `propose` step for the generated release proposals.

After doing that, it can be verified [using the tooling](https://docs.celo.org/community/release-process/smart-contracts#verify-proposed-release-candidate). A local tag should be created at commit TODO at [luisgj fork of monorepo](https://github.com/luisgj/celo-monorepo/tree/rc/v6) at the branch named `rc/v6`. The tag created is the one that should be used as the `-b` flag (set as `$RELEASE_CANDIDATE` in the documentation).

The cli version required to verify this proposal been released yet, but it can be found [in this branch](https://github.com/luisgj/celo-monorepo/tree/cREAL_cli). After pulling, it can be built by executing `yarn && yarn build` on the root, and then the binary for the cli would be in `./packages/cli/bin/run`.

A binary for this cli version can be found [here](https://drive.google.com/file/d/10p-aMvNP77jvre6IlyyvCJWbMAl67avT/view?usp=sharing) (MacOS).

## Risks

Celo Core Contracts are critical for the functioning of the Celo Platform. This proposal touches contracts which impact Celo's exchange. While cLabs have invested significant efforts to expand testing and verification tooling, and a third party audit has been completed, errors in this proposal could lead to situations that are only recoverable with a very difficult hard fork.

## Useful Links

* [Celo Core Contracts Release Process](https://docs.celo.org/community/release-process/smart-contracts)
* [Github release](https://github.com/celo-org/celo-monorepo/releases/tag/celo-contracts-v3.rc0)
* [Forum post about the upgrade](https://forum.celo.org/t/contracts-release-2/719)
